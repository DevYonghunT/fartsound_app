# 방구 머신 앱 - 업그레이드 가이드

## 🎉 추가된 기능들

### 1. 랜덤 진동 패턴 (8가지)
- **짧고 강한 버스트**: 강렬한 한 번의 진동
- **긴 럼블**: 부드럽게 이어지는 진동
- **더듬더듬 패턴**: 여러 번 빠르게 떨림
- **강하고 짧은 충격**: 임팩트 있는 진동
- **물결 패턴**: 점점 강해지는 파도 같은 진동
- **두 번 치기**: 타타
- **세 번 치기**: 타타타
- **점점 강해지기**: 빌드업 효과

### 2. 진동 온/오프 토글
- 오른쪽 상단에 진동 아이콘 버튼
- 진동 ON: 📱 (radiowaves 아이콘)
- 진동 OFF: 📱🚫 (slash 아이콘)
- 탭하면 진동 켜고 끄기 가능

### 3. 사운드 선택 스크롤
- 진동 버튼 바로 아래 위치
- 가로 스크롤 형식
- 옵션: 자동, 방구1~방구10
- 선택된 항목은 하이라이트 표시
- 자동 모드: 랜덤으로 방구 소리 선택
- 특정 방구 선택: 해당 소리만 재생

### 4. 무지개 테두리 효과
- 버튼 터치 시 화면 테두리에 무지개색 효과
- 회전하는 그라데이션 애니메이션
- 1.5초 동안 나타났다가 사라짐
- 색상: 빨강→주황→노랑→초록→청록→파랑→보라→핑크

## 📁 파일 구조

```
YourProject/
├── ContentView.swift              (메인 뷰 - 업데이트)
├── FartSoundService.swift         (사운드 서비스 - 업데이트)
├── HapticService.swift            (진동 서비스 - 새로 추가)
├── RainbowBorderView.swift        (무지개 테두리 - 새로 추가)
├── SoundSelectorView.swift        (사운드 선택기 - 새로 추가)
└── Localizable.strings            (다국어 지원 - 업데이트)
```

## 🔧 설치 방법

### 1. 새 파일 추가
Xcode에서 다음 파일들을 프로젝트에 추가하세요:
- HapticService.swift
- RainbowBorderView.swift
- SoundSelectorView.swift

### 2. 기존 파일 교체
다음 파일들을 업데이트된 버전으로 교체하세요:
- ContentView.swift
- FartSoundService.swift
- Localizable.strings

### 3. Info.plist 설정
진동 기능을 위해 필요한 권한은 자동으로 처리됩니다.
(iOS의 CoreHaptics는 별도 권한이 필요 없습니다)

## 🎮 사용 방법

### 진동 기능
1. 앱 실행 시 진동은 기본적으로 켜져 있습니다
2. 오른쪽 상단의 📱 버튼을 탭하여 온/오프 할 수 있습니다
3. 버튼을 누를 때마다 8가지 중 랜덤한 진동 패턴이 실행됩니다

### 사운드 선택
1. 기본값은 "자동"으로 설정되어 있습니다
2. 스크롤하여 방구1~방구10 중 하나를 선택할 수 있습니다
3. 특정 방구를 선택하면 버튼을 누를 때마다 해당 소리만 재생됩니다
4. "자동"을 선택하면 다시 랜덤 모드가 됩니다

### 무지개 테두리
- 버튼을 누를 때마다 자동으로 나타납니다
- 화면 테두리를 따라 무지개색이 회전합니다
- 별도 설정 없이 자동 실행됩니다

## 🎨 UI 레이아웃

```
┌─────────────────────────────────┐
│                          [진동]  │ ← 오른쪽 상단
│                      [사운드선택] │ ← 스크롤 뷰
│                                  │
│       🎉 방구 머신 🎉            │
│     버튼을 눌러보세요!            │
│                                  │
│          ┌───────┐               │
│          │       │               │
│          │  💨   │  ← 메인 버튼  │
│          │ 뿡!   │               │
│          └───────┘               │
│                                  │
│      재미있게 즐겨보세요 😄       │
└─────────────────────────────────┘
 ↑ 무지개 테두리 (터치 시 활성화)
```

## 🐛 트러블슈팅

### 진동이 작동하지 않는 경우
- iPhone 설정 → 사운드 및 촉각 → 시스템 햅틱이 켜져 있는지 확인
- 무음 모드에서도 진동은 작동해야 합니다
- 시뮬레이터에서는 진동이 작동하지 않습니다 (실제 기기 필요)

### 사운드가 재생되지 않는 경우
- 오디오 파일이 프로젝트에 올바르게 추가되었는지 확인
- 파일명이 fart01~fart10으로 되어 있는지 확인
- Build Phases → Copy Bundle Resources에 파일이 포함되어 있는지 확인

### 무지개 테두리가 보이지 않는 경우
- 배경색이 너무 밝아서 보이지 않을 수 있습니다
- 터치 후 1.5초간만 나타나므로 주의 깊게 확인해보세요

## 💡 커스터마이징

### 진동 패턴 추가
`HapticService.swift`의 `playRandomFartHaptic()` 메서드에 새 패턴을 추가할 수 있습니다.

### 무지개 색상 변경
`RainbowBorderView.swift`의 `AngularGradient` 색상 배열을 수정하세요.

### 테두리 두께 변경
`RainbowBorderView.swift`의 `lineWidth` 값을 조정하세요 (현재: 8).

## 🎯 주요 개선 사항

1. **모듈화**: 각 기능이 별도 파일로 분리되어 유지보수가 쉬움
2. **반응형 UI**: 모든 애니메이션이 부드럽게 작동
3. **사용자 경험**: 직관적인 컨트롤 배치
4. **성능 최적화**: 메모리 관리 및 효율적인 리소스 사용

## 📝 라이선스
이 코드는 자유롭게 사용 가능합니다.

즐거운 개발 되세요! 💨🎉
